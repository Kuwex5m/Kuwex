<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Kuwex ‚Äî Dashboard</title>
  <link rel="icon" href="logo.png" />
  <link rel="stylesheet" href="style.css" />
  <style>
    /* Add / override dashboard-specific styling */
    .page {
      width:100%;max-width:980px;margin:24px auto;padding:0 12px;
    }
    .hero {
      background: linear-gradient(90deg,#007bff 0%,#00c6ff 100%);
      border-radius:18px;padding:24px;color:#fff;text-align:center;box-shadow:0 10px 30px rgba(0,0,0,.12);
    }
    .hero img{width:64px;margin-bottom:8px}
    .hero h1{margin:6px 0 4px;font-size:24px}
    .hero p{margin:0;font-size:14px;opacity:.95}

    .card {
      background:#fff;border-radius:16px;padding:18px;margin-top:18px;box-shadow:0 8px 24px rgba(0,0,0,.08);
    }

    .explain{color:#333;line-height:1.6;font-size:15px;text-align:justify}
    .plans{display:grid;gap:16px;margin-top:18px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
    .plan{
      background:linear-gradient(90deg,#a855f7 0%, #06b6d4 100%);
      color:#fff;border-radius:12px;padding:16px;position:relative;overflow:hidden;
      display:flex;gap:12px;align-items:center;
    }
    .plan .info{flex:1}
    .plan h3{margin:0 0 6px;font-size:20px}
    .plan p{margin:4px 0;font-size:13px;opacity:.95}
    .plan .price{font-weight:800;font-size:20px}
    .plan .btn{
      background:linear-gradient(180deg,rgba(255,255,255,.95),rgba(255,255,255,.9));
      color:#0b3b66;border:none;padding:8px 12px;border-radius:12px;font-weight:700;cursor:pointer;box-shadow:0 6px 18px rgba(14,30,46,.12)
    }

    .referral{
      display:flex;gap:12px;flex-wrap:wrap;align-items:center;justify-content:space-between;margin-top:12px;
    }
    .referral .link{background:#f1f5f9;padding:10px;border-radius:10px;flex:1;min-width:200px}
    .copyBtn{background:#007bff;color:#fff;padding:8px 12px;border-radius:10px;border:none;cursor:pointer}

    .bottom-nav{
      position:fixed;left:0;right:0;bottom:0;height:66px;background:#fff;border-top:1px solid #eaeaea;display:flex;justify-content:space-around;align-items:center;
    }
    .nav-item{font-size:12px;color:#374151;text-align:center}
    .nav-item .icon{display:block;font-size:20px;margin-bottom:4px;color:#06b6d4}

    @media(min-width:900px){
      .page{padding:0}
      .hero{display:flex;align-items:center;gap:18px;text-align:left}
      .hero img{width:84px}
    }
  </style>
</head>
<body style="background:linear-gradient(180deg,#eaf6ff,#fff);margin:0;font-family:Inter,system-ui,Arial;">
  <div class="page">
    <header class="hero">
      <div>
        <img src="logo.png" alt="Kuwex logo" />
      </div>
      <div style="flex:1">
        <h1>Welcome to Kuwex</h1>
        <p>Money working for you ‚Äî combine simple investments with daily activity rewards. Read below to learn how Kuwex investments and daily tasks work.</p>
      </div>
    </header>

    <section class="card">
      <h2 style="color:#007bff;margin:0 0 8px">How Kuwex works ‚Äî quick guide</h2>
      <p class="explain">
        When you deposit into Kuwex you immediately receive a <strong>10% cashback</strong> of that deposit ‚Äî this cashback is withdrawable right after the deposit.
        The platform's minimum deposit is <strong>$100</strong> (no maximum). After deposit you get daily tasks (watch ads, complete assigned research, watch videos). Each completed task pays a percentage of your deposit:
      </p>
      <ul style="margin:10px 18px;color:#374151">
        <li><strong>Ads:</strong> 5% of deposit for every 5 ads watched to completion</li>
        <li><strong>Research:</strong> 8% of deposit per research assignment completed</li>
        <li><strong>Videos:</strong> 15% of deposit per video watched to completion</li>
      </ul>
      <p class="explain">
        Daily task earnings are added to your earnings balance and become withdrawable after <strong>30 days</strong>. After 30 days you can withdraw both your earnings and the initial deposit, or withdraw earnings only and keep the principal invested.
      </p>

      <!-- Referral -->
      <div class="referral" style="margin-top:12px">
        <div class="link" id="refLink">Invite link: <span id="refText">‚Äî</span></div>
        <button class="copyBtn" id="copyReferral">Copy link</button>
      </div>
    </section>

    <!-- Plans -->
    <section class="card">
      <h2 style="color:#007bff;margin:0 0 10px">Investment Plans</h2>
      <div class="plans" id="plansContainer">
        <!-- plans rendered here -->
      </div>
    </section>

    <!-- Logout -->
    <div style="margin:18px 0;text-align:center">
      <button id="logoutBtn" style="background:#ff5252;color:#fff;border:none;padding:10px 16px;border-radius:10px;cursor:pointer">Logout</button>
    </div>
  </div>

  <!-- bottom nav -->
  <nav class="bottom-nav">
    <div class="nav-item"><span class="icon">üè†</span>Home page</div>
    <div class="nav-item"><span class="icon">üë•</span>Team</div>
    <div class="nav-item"><span class="icon">üíé</span>VIP</div>
    <div class="nav-item"><span class="icon">üßæ</span>Mine</div>
  </nav>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-app.js";
    import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyB4yjiRg1GTfS54Z0Z6J0KiFCgo2U_zItU",
      authDomain: "kuwex-7b401.firebaseapp.com",
      projectId: "kuwex-7b401",
      storageBucket: "kuwex-7b401.firebasestorage.app",
      messagingSenderId: "5986214795",
      appId: "1:5986214795:web:e68bff5ec8af2e1bcb858e"
    };
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    // Plans data (mirrors screenshot layout)
    const plans = [
      { id:1, title:'VIP 1', tasks:2, price:15, minWithdraw:10, duration:'30 Days' },
      { id:2, title:'VIP 2', tasks:5, price:38, minWithdraw:10, duration:'28 Days' },
      { id:3, title:'VIP 3', tasks:6, price:77, minWithdraw:10, duration:'28 Days' },
      { id:4, title:'VIP 4', tasks:7, price:200, minWithdraw:10, duration:'25 Days' },
      { id:5, title:'VIP 5', tasks:11, price:340, minWithdraw:10, duration:'21 Days' },
      { id:6, title:'VIP 6', tasks:17, price:480, minWithdraw:10, duration:'21 Days' },
      { id:7, title:'VIP 7', tasks:20, price:620, minWithdraw:10, duration:'21 Days' },
      { id:8, title:'VIP 8', tasks:40, price:1100, minWithdraw:10, duration:'21 Days' },
      { id:9, title:'VIP 9', tasks:52, price:1500, minWithdraw:10, duration:'21 Days' }
    ];

    const plansContainer = document.getElementById('plansContainer');

    function renderPlans(){
      plansContainer.innerHTML = '';
      plans.forEach(p=>{
        const el = document.createElement('div');
        el.className = 'plan';
        el.innerHTML = `
          <div style="width:64px;height:64px;border-radius:8px;background:rgba(255,255,255,.18);display:flex;align-items:center;justify-content:center;font-weight:700;color:#fff">
            üè¢
          </div>
          <div class="info">
            <h3>${p.title}</h3>
            <p>Daily Task : ${p.tasks}</p>
            <p>Refer Bonus Upto : 1 level</p>
            <p>Min withdraw : ${p.minWithdraw} USD</p>
            <p>Duration : ${p.duration}</p>
          </div>
          <div style="text-align:right">
            <div class="price">${p.price.toLocaleString()} USD</div>
            <button class="btn" data-plan="${p.id}">Purchase</button>
          </div>
        `;
        plansContainer.appendChild(el);
      });

      // attach purchase handler
      document.querySelectorAll('.plan .btn').forEach(b=>{
        b.addEventListener('click', onPurchaseClick);
      });
    }

    function onPurchaseClick(e){
      const planId = e.currentTarget.dataset.plan;
      const plan = plans.find(x=>x.id==planId);
      if(!plan) return;
      const amount = plan.price;
      // placeholder flow: in production open payment provider checkout
      if(confirm(`You selected ${plan.title} ‚Äî purchase for ${amount} USD now?\n(This simulates the payment flow.)`)){
        alert('Purchase simulated. In production you must redirect to payment (Flutterwave/Stripe).');
        // TODO: call backend to create payment session, then redirect.
      }
    }

    // referral
    const refText = document.getElementById('refText');
    const copyReferral = document.getElementById('copyReferral');
    onAuthStateChanged(auth, user=>{
      if(!user){
        location.href = 'index.html';
        return;
      }
      // show dynamic referral link: you can use user.uid or a custom token
      const uid = user.uid || 'anonymous';
      const link = `${location.origin}/Kuwex/?ref=${uid}`;
      refText.textContent = link;
    });

    copyReferral.addEventListener('click', ()=>{
      const txt = refText.textContent || '';
      if(!txt) return;
      navigator.clipboard?.writeText(txt).then(()=> alert('Referral link copied'));
    });

    document.getElementById('logoutBtn').addEventListener('click', async ()=>{
      await signOut(auth);
      location.href = 'index.html';
    });

    // initial render
    renderPlans();
  </script>
</body>
  </html>
